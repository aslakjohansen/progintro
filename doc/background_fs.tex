\section{Filesystems}
\idx{Filesystem}

% what(for a computer)
Most computers organize persisted data in files. That the data are persisted\idx{Persistence} means that the data will survive a power cycle\idx{Power cycle} of the computer (i.e., that it is turned off and on again). All data available to the operating system (includin programs and configuration) is stored in files.

% what: tree
Filesystems are \textsl{mostly} tree structures, organizing files in directories. A directory\idx{Directory} is a special form of file that can group other files. In tree terminology, they are branch nodes whereas ordinary files are leaf nodes. The visual metaphore that graphical user interfaces use to refer to directories is the folder. But at the filesystem level -- which is what we care about as programmers -- it is a directory. Figure \ref{fig:bs:fs} shows what a typical filesystem could look like.

\begin{figure}[tbp]
  \input{figs/fs.tex}
  \caption{Example of a filesystem.}
  \label{fig:bs:fs}
\end{figure}

Removable media, like a USB drive, are usually formatted to contain a filesystem. That is why we can place images and documents on it. In order to access that filesystem on your computer it must be mounted once attached. A mount\idx{Mounting} operation essentially makes a specific directory -- the mountpoint\idx{Mount point} -- a shorthand of the root of the mounted filesystem, thereby practically grafting the mounted filesystem to the root\idxx{Filesystem!Root}{Root filesystem} filesystem. The result of the mount operation is illustrated in figure \ref{fig:bs:fs:mounting}.

\begin{figure}[tbp]
  \input{figs/fs_mounting.tex}
  \caption{Example of a mounting a guest filesystem.}
  \label{fig:bs:fs:mounting}
\end{figure}

\begin{figure}[tbp]
  \input{figs/fs_links.tex}
  \caption{Example of a link in a filesystem.}
  \label{fig:bs:fs:links}
\end{figure}

\begin{figure}[tbp]
  \input{figs/fs_cycles.tex}
  \caption{Example of how a link can create a cycle in a filesystem.}
  \label{fig:bs:fs:cycles}
\end{figure}

\begin{figure}[tbp]
  \input{figs/fs_path_abs.tex}
  \caption{Example of an absolute path in a filesystem.}
  \label{fig:bs:fs:path:abs}
\end{figure}

\begin{figure}[tbp]
  \input{figs/fs_path_rel.tex}
  \caption{Example of an relative path in a filesystem.}
  \label{fig:bs:fs:path:rel}
\end{figure}

