\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{vissyntax}[2025/02/28 v0.1
                 LaTeX package for visual BNF syntax figures]

% packages and TikZ librairies
\RequirePackage{tikz}
\RequirePackage{newfloat}

% inspiration:
% - https://github.com/tofgarion/my-latex-packages/blob/master/my-tikz.sty
% - https://tex.stackexchange.com/questions/200187/how-to-define-a-special-tikz-node
% - https://www.tug.org/pracjourn/2006-1/schmidt/schmidt.pdf
% - https://mirrors.dotsrc.org/ctan/macros/latex/contrib/newfloat/newfloat.pdf

\DeclareFloatingEnvironment[
    fileext=los,
    listname={List of Syntax Defintions},
    name=Syntax,
    placement=tbp,
    within=chapter,
]{syntaxfloat}

\newenvironment{syntax}[1][]{
  \begin{tikzpicture}[#1]
}{
  \end{tikzpicture}
}

\tikzset{textalign/.style={
  minimum height=5.5mm,
  text depth=0.7mm,
  text height=2.5mm,
}}

\tikzset{symbol/.style={
  draw,
  thick,
}}
\tikzset{empty/.style={
}}
\tikzset{terminal/.style={
  rectangle,
  draw=teal,
  text=teal,
  fill=teal!10,
  thick,
  font=\ttfamily,
  textalign,
}}
\tikzset{nonterminal/.style={
  rectangle,
  draw=purple,
  text=purple,
  fill=purple!10,
  thick,
  font=\slshape,
  textalign,
  rounded corners=1mm,
}}

\tikzset{path/.style={
  thick,
  >=stealth,
  draw=black,
  rounded corners=3mm,
}}

