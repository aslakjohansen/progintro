\begin{center}
  \begin{tikzpicture}[]
    \newcommand{\spacing}[0]{6mm}
    \newcommand{\absspacing}[0]{30mm}
    \newcommand{\seqX}[0]{ 0*\absspacing}
    \newcommand{\condX}[0]{1*\absspacing}
    \newcommand{\forkX}[0]{2*\absspacing}
    \newcommand{\whileX}[0]{3*\absspacing}
    \newcommand{\dowhileX}[0]{4*\absspacing}
    
    \tikzstyle{endpoint} = []
    \tikzstyle{stmt} = [circle,ultra thick,inner sep=0pt,minimum size=1.2mm,fill=none,draw=black]
    \tikzstyle{arrow} = [thick,->,>=stealth, draw=black]
    \tikzstyle{flow} = [arrow,ultra thick]
    \tikzstyle{label} = [anchor=north]
    \tikzstyle{subtype} = [draw=black]
    \tikzstyle{choice} = [draw=teal,fill=teal,minimum size=1.6mm]
    
    \coordinate (seqAnchor)  at (\seqX ,0);
    \coordinate (condAnchor) at (\condX,0);
    \coordinate (forkAnchor) at (\forkX,0);
    \coordinate (whileAnchor) at (\whileX,0);
    \coordinate (dowhileAnchor) at (\dowhileX,0);
    
    % sequence
    {
      \node[endpoint] (seqBegin) at ([yshift=0*\spacing]seqAnchor) {};
      \node[stmt] (seqA) at ([yshift=-1*\spacing]seqAnchor) {};
      \node[stmt] (seqB) at ([yshift=-2*\spacing]seqAnchor) {};
      \node[stmt] (seqC) at ([yshift=-3*\spacing]seqAnchor) {};
      \node[stmt] (seqD) at ([yshift=-4*\spacing]seqAnchor) {};
      \node[stmt] (seqE) at ([yshift=-5*\spacing]seqAnchor) {};
      \node[endpoint] (seqEnd) at ([yshift=-6.5*\spacing]seqAnchor) {};
      \node[label] () at ([yshift=0*\spacing]seqEnd) {Sequence};
      
      \path[flow] (seqBegin)
               -- (seqA)
               -- (seqB)
               -- (seqC)
               -- (seqD)
               -- (seqE)
               -- (seqEnd)
      ;
    }
    
    % conditional
    {
      \node[endpoint] (condBegin) at ([yshift=0*\spacing]condAnchor) {};
      \node[stmt] (condA) at ([yshift=-1*\spacing]condAnchor) {};
      \node[stmt,choice] (condB) at ([yshift=-2*\spacing]condAnchor) {};
      \node[stmt,draw=purple] (condC) at ([yshift=-3*\spacing,xshift=\spacing]condAnchor) {};
      \node[stmt,draw=purple] (condD) at ([yshift=-4*\spacing,xshift=\spacing]condAnchor) {};
      \node[stmt] (condE) at ([yshift=-5*\spacing]condAnchor) {};
      \node[endpoint] (condEnd) at ([yshift=-6.5*\spacing]condAnchor) {};
      \node[label] (cond) at ([yshift=0*\spacing]condEnd) {Conditional};
      
      \path[flow,-] (condBegin)
               -- (condA)
               -- (condB)
      ;
      \path[flow,-,draw=purple] (condB)
               -- (condE)
      ;
      \path[flow,-,draw=purple] (condB)
               to [out=270,in=90] (condC)
               -- (condD)
               to [out=270,in=90]  (condE)
      ;
      \path[flow] (condE)
               -- (condEnd)
      ;
    }
    
    % fork
    {
      \node[endpoint] (forkBegin) at ([yshift=0*\spacing]forkAnchor) {};
      \node[stmt] (forkA) at ([yshift=-1*\spacing]forkAnchor) {};
      \node[stmt,choice] (forkB) at ([yshift=-2*\spacing]forkAnchor) {};
      \node[stmt,draw=purple] (forkCtrue) at ([yshift=-3*\spacing,xshift=-\spacing]forkAnchor) {};
      \node[stmt,draw=purple] (forkDtrue) at ([yshift=-4*\spacing,xshift=-\spacing]forkAnchor) {};
      \node[stmt,draw=purple] (forkCfalse) at ([yshift=-3*\spacing,xshift=\spacing]forkAnchor) {};
      \node[stmt,draw=purple] (forkDfalse) at ([yshift=-4*\spacing,xshift=\spacing]forkAnchor) {};
      \node[stmt] (forkE) at ([yshift=-5*\spacing]forkAnchor) {};
      \node[endpoint] (forkEnd) at ([yshift=-6.5*\spacing]forkAnchor) {};
      \node[label] (fork) at ([yshift=0*\spacing]forkEnd) {Fork};
      
      \path[flow,-] (forkBegin)
               -- (forkA)
               -- (forkB)
      ;
      \path[flow,-,draw=purple] (forkB)
               to [out=270,in=90] (forkCtrue)
               -- (forkDtrue)
               to [out=270,in=90] (forkE)
      ;
      \path[flow,-,draw=purple] (forkB)
               to [out=270,in=90] (forkCfalse)
               -- (forkDfalse)
               to [out=270,in=90] (forkE)
      ;
      \path[flow] (forkE)
               -- (forkEnd)
      ;
    }
    
%    % while loop
%    {
%      \node[endpoint] (whileBegin) at ([yshift=0*\spacing]whileAnchor) {};
%      \node[stmt] (whileA) at ([yshift=-1*\spacing]whileAnchor) {};
%      \node[stmt,choice] (whileB) at ([yshift=-2*\spacing]whileAnchor) {};
%      \node[stmt,draw=purple] (whileC) at ([yshift=-3*\spacing]whileAnchor) {};
%      \node[stmt,draw=purple] (whileD) at ([yshift=-4*\spacing]whileAnchor) {};
%      \node[stmt] (whileE) at ([yshift=-5*\spacing,xshift=-\spacing]whileAnchor) {};
%      \node[stmt] (whileF) at ([yshift=-6*\spacing,xshift=-\spacing]whileAnchor) {};
%      \node[endpoint] (whileEnd) at ([yshift=-7.5*\spacing,xshift=-\spacing]whileAnchor) {};
%      \node[label] (while) at ([yshift=0*\spacing]whileEnd) {Skippable Loop};
%      
%      \path[flow] (whileBegin)
%               -- (whileA)
%               -- (whileB)
%               to [out=270,in=90] ([yshift=-1*\spacing,xshift=-1*\spacing]whileB)
%               -- (whileE)
%               -- (whileF)
%               -- (whileEnd)
%      ;
%      \path[flow,-,draw=purple] (whileB)
%               -- (whileC)
%               -- (whileD)
%               to [out=270,in=270] ([xshift=1*\spacing]whileD)
%               -- ([xshift=1*\spacing]whileB.center)
%               to [out=90,in=90] (whileB)
%      ;
%    }
    
    % while loop
    {
      \node[endpoint] (whileBegin) at ([yshift=0*\spacing]whileAnchor) {};
      \node[stmt] (whileA) at ([yshift=-1*\spacing]whileAnchor) {};
      \node[stmt] (whileB) at ([yshift=-2*\spacing]whileAnchor) {};
      \node[stmt,choice] (whileC) at ([yshift=-3*\spacing]whileAnchor) {};
      \node[stmt,draw=purple] (whileD) at ([yshift=-3.5*\spacing,xshift=0.5*\spacing]whileAnchor) {};
      \node[stmt,draw=purple] (whileE) at ([yshift=-3.5*\spacing,xshift=1.5*\spacing]whileAnchor) {};
      \node[stmt] (whileF) at ([yshift=-4*\spacing]whileAnchor) {};
      \node[stmt] (whileG) at ([yshift=-5*\spacing]whileAnchor) {};
      \node[endpoint] (whileEnd) at ([yshift=-6.5*\spacing]whileAnchor) {};
      \node[label] (while) at ([yshift=0*\spacing]whileEnd) {Skippable Loop};
      
      \path[flow] (whileBegin)
               -- (whileA)
               -- (whileB)
               -- (whileC)
               -- (whileF)
               -- (whileG)
               -- (whileEnd)
      ;
      \path[flow,-,draw=purple](whileD)
               -- (whileE)
               to [out=0,in=0,looseness=1.2] ([yshift=1*\spacing]whileE.east)
               -- ([yshift=1*\spacing]whileD.west)
               to [out=180,in=180,looseness=1.2] (whileD.west)
      ;
      
      % TODO: this is a hack to make this node appear on top of the loop path
      \node[stmt,choice] (whileC) at ([yshift=-3*\spacing]whileAnchor) {};
    }
    
    % do-while loop
    {
      \node[endpoint] (dowhileBegin) at ([yshift=0*\spacing]dowhileAnchor) {};
      \node[stmt] (dowhileA) at ([yshift=-1*\spacing]dowhileAnchor) {};
      \node[stmt,draw=purple] (dowhileB) at ([yshift=-2*\spacing]dowhileAnchor) {};
      \node[stmt,draw=purple] (dowhileC) at ([yshift=-3*\spacing]dowhileAnchor) {};
      \node[stmt,choice] (dowhileD) at ([yshift=-4*\spacing]dowhileAnchor) {};
      \node[stmt] (dowhileE) at ([yshift=-5*\spacing]dowhileAnchor) {};
      \node[endpoint] (dowhileEnd) at ([yshift=-6.5*\spacing]dowhileAnchor) {};
      \node[label] (dowhile) at ([yshift=0*\spacing]dowhileEnd) {Non-Skippable Loop};
      
      \path[flow] (dowhileBegin)
               -- (dowhileA)
               -- (dowhileB)
               -- (dowhileC)
               -- (dowhileD)
               -- (dowhileE)
               -- (dowhileEnd)
      ;
      \path[flow,-,draw=purple] (dowhileB)
               -- (dowhileC)
               -- (dowhileD)
               to [out=270,in=270,looseness=1.2] ([xshift=1*\spacing]dowhileD.south)
               -- ([xshift=1*\spacing]dowhileB.north)
               to [out=90,in=90,looseness=1.2] (dowhileB)
      ;
    }
    
    % branch
    \node[label] (branch) at ([yshift=-1*\spacing] $(cond)!0.5!(fork)$) {Branch};
    \path[subtype] (cond) |- (branch) -| (fork);
    
    % loop
    \node[label] (loop) at ([yshift=-1*\spacing] $(while)!0.5!(dowhile)$) {Repetition};
    \path[subtype] (while) |- (loop) -| (dowhile);
  ﻿﻿\end{tikzpicture}
\end{center}
